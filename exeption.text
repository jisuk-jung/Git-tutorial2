using System;

public class CustomAppException : Exception
{
    public string ErrorCode { get; }
    public string UserMessage { get; }
    public string SystemMessage => base.Message;

    public CustomAppException(string errorCode, string userMessage, string systemMessage, Exception innerException = null)
        : base(systemMessage, innerException)
    {
        ErrorCode = errorCode;
        UserMessage = userMessage;
    }
}



using System;
using System.Text.Json;
using System.Collections.Generic;

class Program
{
    static void Main(string[] args)
    {
        try
        {
            Level1();
        }
        catch (Exception ex)
        {
            var log = BuildJsonLog(ex);
            string jsonOutput = JsonSerializer.Serialize(log, new JsonSerializerOptions { WriteIndented = true });
            Console.WriteLine("ì˜ˆì™¸ JSON ë¡œê·¸:");
            Console.WriteLine(jsonOutput);
        }
    }

    static void Level1()
    {
        try
        {
            Level2();
        }
        catch (Exception ex)
        {
            throw new CustomAppException("E1001", "ì‹œìŠ¤í…œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.", "Level1 ì²˜ë¦¬ ì¤‘ ë‚´ë¶€ ì˜ˆì™¸", ex);
        }
    }

    static void Level2()
    {
        try
        {
            Level3();
        }
        catch (Exception ex)
        {
            throw new CustomAppException("E2001", "ì²˜ë¦¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", "Level2ì—ì„œ ì˜ˆì™¸ ë°œìƒ", ex);
        }
    }

    static void Level3()
    {
        try
        {
            throw new InvalidOperationException("DB ì—°ê²° ì‹¤íŒ¨");
        }
        catch (Exception ex)
        {
            throw new CustomAppException("E3001", "ì„œë¹„ìŠ¤ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.", "Level3ì—ì„œ DB ì˜ˆì™¸ ë°œìƒ", ex);
        }
    }

    static Dictionary<string, object> BuildJsonLog(Exception ex)
    {
        var log = new Dictionary<string, object>
        {
            ["type"] = ex.GetType().FullName,
            ["systemMessage"] = ex.Message,
            ["stackTrace"] = ex.StackTrace
        };

        if (ex is CustomAppException customEx)
        {
            log["errorCode"] = customEx.ErrorCode;
            log["userMessage"] = customEx.UserMessage;
        }

        log["innerException"] = ex.InnerException != null ? BuildJsonLog(ex.InnerException) : null;

        return log;
    }
}




{
  "type": "CustomAppException",
  "systemMessage": "Level1 ì²˜ë¦¬ ì¤‘ ë‚´ë¶€ ì˜ˆì™¸",
  "stackTrace": "...",
  "errorCode": "E1001",
  "userMessage": "ì‹œìŠ¤í…œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
  "innerException": {
    "type": "CustomAppException",
    "systemMessage": "Level2ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
    "stackTrace": "...",
    "errorCode": "E2001",
    "userMessage": "ì²˜ë¦¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
    "innerException": {
      "type": "CustomAppException",
      "systemMessage": "Level3ì—ì„œ DB ì˜ˆì™¸ ë°œìƒ",
      "stackTrace": "...",
      "errorCode": "E3001",
      "userMessage": "ì„œë¹„ìŠ¤ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.",
      "innerException": {
        "type": "System.InvalidOperationException",
        "systemMessage": "DB ì—°ê²° ì‹¤íŒ¨",
        "stackTrace": "...",
        "innerException": null
      }
    }
  }
}









===========================================================================================================================
public class CustomAppException : Exception
{
    public string ErrorCode { get; }
    public string UserMessage { get; }
    public string SystemMessage => base.Message;

    public CustomAppException(string errorCode, string userMessage, string systemMessage, Exception innerException = null)
        : base(systemMessage, innerException)
    {
        ErrorCode = errorCode;
        UserMessage = userMessage;
    }
}








using System;
using Serilog;

class Program
{
    static void Main(string[] args)
    {
        // Serilog ì„¤ì •
        Log.Logger = new LoggerConfiguration()
            .MinimumLevel.Debug()
            .WriteTo.Console()
            .WriteTo.File("logs/log.txt", rollingInterval: RollingInterval.Day)
            .CreateLogger();

        try
        {
            Level1();
        }
        catch (Exception ex)
        {
            LogException(ex);
        }

        Log.CloseAndFlush();
    }

    static void Level1()
    {
        try
        {
            Level2();
        }
        catch (Exception ex)
        {
            throw new CustomAppException("E1001", "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", "Level1 ì²˜ë¦¬ ì‹¤íŒ¨", ex);
        }
    }

    static void Level2()
    {
        try
        {
            Level3();
        }
        catch (Exception ex)
        {
            throw new CustomAppException("E2001", "ë°ì´í„° ì²˜ë¦¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", "Level2 ë‚´ë¶€ ì˜¤ë¥˜", ex);
        }
    }

    static void Level3()
    {
        try
        {
            throw new InvalidOperationException("DB ì—°ê²° ì‹¤íŒ¨");
        }
        catch (Exception ex)
        {
            throw new CustomAppException("E3001", "ì¼ì‹œì ì¸ ì„œë²„ ì˜¤ë¥˜ì…ë‹ˆë‹¤.", "Level3 DB ì‹¤íŒ¨", ex);
        }
    }

    static void LogException(Exception ex)
    {
        if (ex is CustomAppException customEx)
        {
            Log.Error(ex, "ì—ëŸ¬ ë°œìƒ: {ErrorCode} | ì‚¬ìš©ì ë©”ì‹œì§€: {UserMessage} | ì‹œìŠ¤í…œ ë©”ì‹œì§€: {SystemMessage}",
                customEx.ErrorCode,
                customEx.UserMessage,
                customEx.SystemMessage);
        }
        else
        {
            Log.Error(ex, "ì¼ë°˜ ì˜ˆì™¸ ë°œìƒ: {Message}", ex.Message);
        }
    }
}





[14:30:01 ERR] ì—ëŸ¬ ë°œìƒ: E1001 | ì‚¬ìš©ì ë©”ì‹œì§€: ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. | ì‹œìŠ¤í…œ ë©”ì‹œì§€: Level1 ì²˜ë¦¬ ì‹¤íŒ¨
System.Exception: Level1 ì²˜ë¦¬ ì‹¤íŒ¨
 ---> CustomAppException: Level2 ë‚´ë¶€ ì˜¤ë¥˜
 ---> CustomAppException: Level3 DB ì‹¤íŒ¨
 ---> System.InvalidOperationException: DB ì—°ê²° ì‹¤íŒ¨
   at Program.Level3()...








   =======================================================================================================================

   using System;

public class CustomAppException : Exception
{
    public int ErrorCode { get; }
    public string UserMessage { get; }
    public string SystemMessage { get; }

    public CustomAppException(int errorCode, string userMessage, string systemMessage, Exception innerException = null)
        : base(systemMessage, innerException)
    {
        ErrorCode = errorCode;
        UserMessage = userMessage;
        SystemMessage = systemMessage;
    }

    public override string ToString()
    {
        return $"[ErrorCode: {ErrorCode}] {UserMessage} (System: {SystemMessage})";
    }
}



using System;

class Program
{
    static void Main(string[] args)
    {
        try
        {
            Level1();
        }
        catch (CustomAppException ex)
        {
            Console.WriteLine("Mainì—ì„œ ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ ì²˜ë¦¬ë¨:");
            Console.WriteLine("ì—ëŸ¬ ì½”ë“œ: " + ex.ErrorCode);
            Console.WriteLine("ì‚¬ìš©ì ë©”ì‹œì§€: " + ex.UserMessage);
            Console.WriteLine("ì‹œìŠ¤í…œ ë©”ì‹œì§€: " + ex.SystemMessage);
            Console.WriteLine("ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤:\n" + ex.StackTrace);

            // InnerException ì¶œë ¥ (ì„ íƒ)
            Exception inner = ex.InnerException;
            while (inner != null)
            {
                Console.WriteLine("\n--- Inner Exception ---");
                Console.WriteLine("íƒ€ì…: " + inner.GetType().Name);
                Console.WriteLine("ë©”ì‹œì§€: " + inner.Message);
                inner = inner.InnerException;
            }
        }
    }

    static void Level1()
    {
        try
        {
            Level2();
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                1001,
                "ì‹œìŠ¤í…œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.",
                "Level1ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }

    static void Level2()
    {
        try
        {
            Level3();
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                2002,
                "ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
                "Level2ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }

    static void Level3()
    {
        try
        {
            throw new InvalidOperationException("ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨");
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                3003,
                "ì„œë¹„ìŠ¤ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.",
                "Level3ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }
}




Mainì—ì„œ ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ ì²˜ë¦¬ë¨:
ì—ëŸ¬ ì½”ë“œ: 1001
ì‚¬ìš©ì ë©”ì‹œì§€: ì‹œìŠ¤í…œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.
ì‹œìŠ¤í…œ ë©”ì‹œì§€: Level1ì—ì„œ ì˜ˆì™¸ ë°œìƒ
ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤:
   at Program.Level1() in Program.cs:line XX
   at Program.Main(String[] args) in Program.cs:line XX

--- Inner Exception ---
íƒ€ì…: CustomAppException
ë©”ì‹œì§€: Level2ì—ì„œ ì˜ˆì™¸ ë°œìƒ

--- Inner Exception ---
íƒ€ì…: CustomAppException
ë©”ì‹œì§€: Level3ì—ì„œ ì˜ˆì™¸ ë°œìƒ

--- Inner Exception ---
íƒ€ì…: InvalidOperationException
ë©”ì‹œì§€: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨



==========================================================================================================================


using System;
using System.IO;
using Newtonsoft.Json;

public class CustomAppException : Exception
{
    public int ErrorCode { get; }
    public string UserMessage { get; }
    public string SystemMessage { get; }

    public CustomAppException(int errorCode, string userMessage, string systemMessage, Exception innerException = null)
        : base(systemMessage, innerException)
    {
        ErrorCode = errorCode;
        UserMessage = userMessage;
        SystemMessage = systemMessage;
    }

    // ì˜ˆì™¸ ê°ì²´ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œ
    public string ToJson()
    {
        return JsonConvert.SerializeObject(this, Formatting.Indented);
    }
}



class Program
{
    static void Main(string[] args)
    {
        try
        {
            Level1();
        }
        catch (CustomAppException ex)
        {
            // ì˜ˆì™¸ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì§ë ¬í™”
            string jsonException = ex.ToJson();

            // ë¡œê·¸ íŒŒì¼ ê²½ë¡œ
            string logFilePath = "error_log.txt";

            // ì˜ˆì™¸ ë¡œê·¸ë¥¼ íŒŒì¼ì— ê¸°ë¡
            LogToFile(jsonException, logFilePath);

            // ì½˜ì†”ì— ì˜ˆì™¸ ì •ë³´ ì¶œë ¥
            Console.WriteLine("Mainì—ì„œ ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ ì²˜ë¦¬ë¨:");
            Console.WriteLine("ì—ëŸ¬ ì½”ë“œ: " + ex.ErrorCode);
            Console.WriteLine("ì‚¬ìš©ì ë©”ì‹œì§€: " + ex.UserMessage);
            Console.WriteLine("ì‹œìŠ¤í…œ ë©”ì‹œì§€: " + ex.SystemMessage);
            Console.WriteLine("ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤:\n" + ex.StackTrace);

            // InnerException ì¶œë ¥ (ì„ íƒ)
            Exception inner = ex.InnerException;
            while (inner != null)
            {
                Console.WriteLine("\n--- Inner Exception ---");
                Console.WriteLine("íƒ€ì…: " + inner.GetType().Name);
                Console.WriteLine("ë©”ì‹œì§€: " + inner.Message);
                inner = inner.InnerException;
            }
        }
    }

    static void Level1()
    {
        try
        {
            Level2();
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                1001,
                "ì‹œìŠ¤í…œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.",
                "Level1ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }

    static void Level2()
    {
        try
        {
            Level3();
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                2002,
                "ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
                "Level2ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }

    static void Level3()
    {
        try
        {
            DoDatabaseWork();
            DoFileWork();
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                3003,
                "ì„œë¹„ìŠ¤ ì²˜ë¦¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
                "Level3 ì „ì²´ ì‘ì—… ì¤‘ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }

    static void DoDatabaseWork()
    {
        try
        {
            // DB ì‘ì—…
            throw new InvalidOperationException("DB ì—°ê²° ì‹¤íŒ¨");
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                3101,
                "ë°ì´í„°ë² ì´ìŠ¤ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",
                "DoDatabaseWorkì—ì„œ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }
    
    static void DoFileWork()
    {
        try
        {
            // íŒŒì¼ ì‘ì—…
            throw new IOException("íŒŒì¼ ì ‘ê·¼ ì˜¤ë¥˜");
        }
        catch (Exception ex)
        {
            throw new CustomAppException(
                3102,
                "íŒŒì¼ ì‘ì—…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",
                "DoFileWorkì—ì„œ ì˜ˆì™¸ ë°œìƒ",
                ex
            );
        }
    }

    // ë¡œê·¸ íŒŒì¼ì— ì˜ˆì™¸ ì •ë³´ë¥¼ ê¸°ë¡í•˜ëŠ” ë©”ì†Œë“œ
    static void LogToFile(string jsonException, string logFilePath)
    {
        try
        {
            // ë¡œê·¸ íŒŒì¼ì— ì¶”ê°€ë¡œ ê¸°ë¡
            File.AppendAllText(logFilePath, jsonException + "\n\n");
        }
        catch (Exception ex)
        {
            Console.WriteLine("ë¡œê·¸ ê¸°ë¡ ì‹¤íŒ¨: " + ex.Message);
        }
    }
}



{
  "ClassName": "CustomAppException",
  "Message": "Level1ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
  "Data": null,
  "InnerException": {
    "ClassName": "CustomAppException",
    "Message": "Level2ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
    "Data": null,
    "InnerException": {
      "ClassName": "CustomAppException",
      "Message": "Level3ì—ì„œ ì˜ˆì™¸ ë°œìƒ",
      "Data": null,
      "InnerException": {
        "ClassName": "InvalidOperationException",
        "Message": "ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨",
        "Data": null,
        "InnerException": null,
        "HelpURL": null,
        "StackTraceString": "   at Program.Level3() in Program.cs:line 36\n   at Program.Level2() in Program.cs:line 26\n   at Program.Level1() in Program.cs:line 18\n   at Program.Main(String[] args) in Program.cs:line 9",
        "RemoteStackTraceString": null,
        "RemoteStackIndex": 0,
        "ExceptionMethod": null,
        "HResult": -2146233079,
        "Source": "Program",
        "WatsonBuckets": null
      },
      "HelpURL": null,
      "StackTraceString": "   at Program.Level2() in Program.cs:line 28\n   at Program.Level1() in Program.cs:line 20\n   at Program.Main(String[] args) in Program.cs:line 9",
      "RemoteStackTraceString": null,
      "RemoteStackIndex": 0,
      "ExceptionMethod": null,
      "HResult": -2146233088,
      "Source": "Program",
      "WatsonBuckets": null
    },
    "HelpURL": null,
    "StackTraceString": "   at Program.Level1() in Program.cs:line 20\n   at Program.Main(String[] args) in Program.cs:line 9",
    "RemoteStackTraceString": null,
    "RemoteStackIndex": 0,
    "ExceptionMethod": null,
    "HResult": -2146233088,
    "Source": "Program",
    "WatsonBuckets": null
  },
  "HelpURL": null,
  "StackTraceString": "   at Program.Main(String[] args) in Program.cs:line 9",
  "RemoteStackTraceString": null,
  "RemoteStackIndex": 0,
  "ExceptionMethod": null,
  "HResult": -2146233088,
  "Source": "Program",
  "WatsonBuckets": null
}


===============================================================================================================================================================================



using System;
using System.Collections.Generic;
using Newtonsoft.Json;

public class AggregateAppException : Exception
{
    public int ErrorCode { get; }
    public string UserMessage { get; }
    public string SystemMessage { get; }
    public List<CustomAppException> InnerExceptions { get; }

    public AggregateAppException(int errorCode, string userMessage, string systemMessage, List<CustomAppException> innerExceptions)
        : base(systemMessage)
    {
        ErrorCode = errorCode;
        UserMessage = userMessage;
        SystemMessage = systemMessage;
        InnerExceptions = innerExceptions ?? new List<CustomAppException>();
    }

    public string ToJson()
    {
        return JsonConvert.SerializeObject(this, Formatting.Indented);
    }

    public override string ToString()
    {
        string innerDetails = "";
        foreach (var ex in InnerExceptions)
        {
            innerDetails += $"\n - [Code:{ex.ErrorCode}] {ex.SystemMessage}";
        }
        return $"[ErrorCode: {ErrorCode}] {UserMessage}\nSystemMessage: {SystemMessage}\nDetails:{innerDetails}";
    }
}


static void Level3()
{
    var exceptions = new List<CustomAppException>();

    try
    {
        DoDatabaseWork();
    }
    catch (CustomAppException ex)
    {
        exceptions.Add(ex);
    }

    try
    {
        DoFileWork();
    }
    catch (CustomAppException ex)
    {
        exceptions.Add(ex);
    }

    if (exceptions.Count > 0)
    {
        throw new AggregateAppException(
            3999,
            "ë³µìˆ˜ ì‘ì—… ì¤‘ ì¼ë¶€ê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",
            "Level3ì—ì„œ ë‹¤ì¤‘ ì˜ˆì™¸ ë°œìƒ",
            exceptions
        );
    }
}


try
{
    Level3();
}
catch (AggregateAppException aggEx)
{
    Console.WriteLine("ğŸ”´ ë³µìˆ˜ ì˜ˆì™¸ ë°œìƒ:");
    Console.WriteLine($"ì—ëŸ¬ì½”ë“œ: {aggEx.ErrorCode}");
    Console.WriteLine($"ì‚¬ìš©ì ë©”ì‹œì§€: {aggEx.UserMessage}");
    Console.WriteLine($"ì‹œìŠ¤í…œ ë©”ì‹œì§€: {aggEx.SystemMessage}");

    foreach (var inner in aggEx.InnerExceptions)
    {
        Console.WriteLine("\n--- ë‚´ë¶€ ì˜ˆì™¸ ---");
        Console.WriteLine($"ì—ëŸ¬ ì½”ë“œ: {inner.ErrorCode}");
        Console.WriteLine($"ì‚¬ìš©ì ë©”ì‹œì§€: {inner.UserMessage}");
        Console.WriteLine($"ì‹œìŠ¤í…œ ë©”ì‹œì§€: {inner.SystemMessage}");
        Console.WriteLine($"ì›ë³¸ ì˜ˆì™¸ ë©”ì‹œì§€: {inner.InnerException?.Message}");
    }

    // ë¡œê·¸ íŒŒì¼ ê¸°ë¡ (ì„ íƒ)
    File.AppendAllText("aggregate_error_log.json", aggEx.ToJson() + "\n\n");
}

=========================================================================================================================

Vite + React + TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ Feature-Sliced Design (FSD) ì•„í‚¤í…ì²˜ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ í´ë” êµ¬ì¡°ë¥¼ ëª¨ë“ˆí™”í•˜ê³ , ê° ê¸°ëŠ¥(Feature) ë‹¨ìœ„ë¡œ ì½”ë“œë¥¼ ë‚˜ëˆ„ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì½”ë“œì˜ í™•ì¥ì„±, ì¬ì‚¬ìš©ì„±, ìœ ì§€ë³´ìˆ˜ì„±ì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤.

FSDëŠ” ê° "ê¸°ëŠ¥(feature)"ì„ ì¤‘ì‹¬ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ë‚˜ëˆ„ë©°, ì´ë¥¼ í†µí•´ ë…ë¦½ì ì¸ ê°œë°œê³¼ ë°°í¬ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.



/src
  â”œâ”€â”€ /app
  â”‚    â”œâ”€â”€ index.tsx                 # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
  â”‚    â””â”€â”€ /store                    # ìƒíƒœ ê´€ë¦¬
  â”‚        â””â”€â”€ rootReducer.ts        # ë£¨íŠ¸ ë¦¬ë“€ì„œ
  â”‚        â””â”€â”€ store.ts              # Redux store ì„¤ì •
  â”‚
  â”œâ”€â”€ /features
  â”‚    â”œâ”€â”€ /user                    # user ê¸°ëŠ¥ í´ë”
  â”‚    â”‚    â”œâ”€â”€ /api                 # API í†µì‹  ê´€ë ¨
  â”‚    â”‚    â”‚    â””â”€â”€ userApi.ts
  â”‚    â”‚    â”œâ”€â”€ /components          # ì»´í¬ë„ŒíŠ¸
  â”‚    â”‚    â”‚    â”œâ”€â”€ UserProfile.tsx
  â”‚    â”‚    â”‚    â””â”€â”€ UserList.tsx
  â”‚    â”‚    â”œâ”€â”€ /model               # ê¸°ëŠ¥ ëª¨ë¸ ë° ë¡œì§
  â”‚    â”‚    â”‚    â”œâ”€â”€ userSlice.ts
  â”‚    â”‚    â”‚    â””â”€â”€ userTypes.ts
  â”‚    â”‚    â””â”€â”€ /ui                  # UI ì»´í¬ë„ŒíŠ¸ (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸)
  â”‚    â”‚         â””â”€â”€ UserCard.tsx
  â”‚    â”‚
  â”‚    â””â”€â”€ /auth                     # auth ê¸°ëŠ¥ í´ë”
  â”‚         â”œâ”€â”€ /components          # ë¡œê·¸ì¸, íšŒì›ê°€ì… ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
  â”‚         â””â”€â”€ /model               # ì¸ì¦ ê´€ë ¨ ìƒíƒœ ë° ë¡œì§
  â”‚
  â”œâ”€â”€ /shared
  â”‚    â”œâ”€â”€ /api                      # ê³µí†µ API ì„¤ì •
  â”‚    â”œâ”€â”€ /components               # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸ (ë²„íŠ¼, ì…ë ¥ì°½ ë“±)
  â”‚    â”œâ”€â”€ /hooks                    # ê³µí†µ í›… (ex: useLocalStorage, useFetch)
  â”‚    â””â”€â”€ /utils                    # ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (ex: ë‚ ì§œ í¬ë§·, API ìš”ì²­ í•¨ìˆ˜ ë“±)
  â”‚
  â”œâ”€â”€ /pages
  â”‚    â”œâ”€â”€ Home.tsx                  # í™ˆ í˜ì´ì§€
  â”‚    â””â”€â”€ About.tsx                 # About í˜ì´ì§€
  â”‚
  â”œâ”€â”€ /styles
  â”‚    â”œâ”€â”€ global.css                # ì „ì—­ ìŠ¤íƒ€ì¼
  â”‚    â””â”€â”€ theme.css                 # í…Œë§ˆ ìŠ¤íƒ€ì¼
  â”‚
  â””â”€â”€ /types
       â””â”€â”€ global.d.ts               # ì „ì—­ íƒ€ì… ì •ì˜


âœ… ì„¤ëª…
/app: ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ ê´€ë ¨ ì½”ë“œ ë° ì„¤ì •ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.

index.tsx: ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì .

/store: ìƒíƒœ ê´€ë¦¬ ê´€ë ¨ ì½”ë“œ (ì˜ˆ: Redux).

/features: ê° ê¸°ëŠ¥ë³„ë¡œ ë‚˜ëˆ„ì–´ì§„ í´ë”ë¡œ, ê° ê¸°ëŠ¥(feature)ì„ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆ: user, auth ê¸°ëŠ¥.

ê° ê¸°ëŠ¥ í´ë” ì•ˆì—ëŠ” api, components, model, ui ë“± í•´ë‹¹ ê¸°ëŠ¥ê³¼ ê´€ë ¨ëœ ì½”ë“œë“¤ì´ í¬í•¨ë©ë‹ˆë‹¤.

/shared: ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ë°˜ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì½”ë“œë“¤.

/api: ê³µí†µëœ API í˜¸ì¶œ í•¨ìˆ˜.

/components: ì• í”Œë¦¬ì¼€ì´ì…˜ ê³³ê³³ì—ì„œ ì¬ì‚¬ìš©ë˜ëŠ” UI ì»´í¬ë„ŒíŠ¸ë“¤.

/hooks: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»¤ìŠ¤í…€ í›…ë“¤.

/utils: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤ (ì˜ˆ: ë°ì´í„° ë³€í™˜, ë‚ ì§œ í¬ë§· ë“±).

/pages: ê° í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.

ì˜ˆ: Home.tsx, About.tsx ë“±.

/styles: ì „ì—­ ìŠ¤íƒ€ì¼, í…Œë§ˆ ë° CSS íŒŒì¼ì„ í¬í•¨í•©ë‹ˆë‹¤.

/types: í”„ë¡œì íŠ¸ ì „ë°˜ì— ê±¸ì³ ì‚¬ìš©ë˜ëŠ” íƒ€ì… ì •ì˜ íŒŒì¼ë“¤ì„ ëª¨ì•„ë‘¡ë‹ˆë‹¤.



1. userSlice.ts (redux slice ì˜ˆì‹œ)

// src/features/user/model/userSlice.ts
import { createSlice, PayloadAction } from '@reduxjs/toolkit';

interface UserState {
  id: string | null;
  name: string | null;
  email: string | null;
}

const initialState: UserState = {
  id: null,
  name: null,
  email: null,
};

const userSlice = createSlice({
  name: 'user',
  initialState,
  reducers: {
    setUser: (state, action: PayloadAction<UserState>) => {
      state.id = action.payload.id;
      state.name = action.payload.name;
      state.email = action.payload.email;
    },
    clearUser: (state) => {
      state.id = null;
      state.name = null;
      state.email = null;
    },
  },
});

export const { setUser, clearUser } = userSlice.actions;
export default userSlice.reducer;


2. UserProfile.tsx (ì»´í¬ë„ŒíŠ¸ ì˜ˆì‹œ)

// src/features/user/components/UserProfile.tsx
import React from 'react';
import { useSelector } from 'react-redux';
import { RootState } from '../../app/store';

const UserProfile = () => {
  const user = useSelector((state: RootState) => state.user);

  if (!user.id) return <p>No user data available</p>;

  return (
    <div>
      <h2>{user.name}</h2>
      <p>{user.email}</p>
    </div>
  );
};

export default UserProfile;


3. store.ts (Redux store ì„¤ì • ì˜ˆì‹œ)

// src/app/store.ts
import { configureStore } from '@reduxjs/toolkit';
import userReducer from '../features/user/model/userSlice';

export const store = configureStore({
  reducer: {
    user: userReducer,
  },
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
